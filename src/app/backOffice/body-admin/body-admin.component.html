<!-- Navbar Start -->
<script>
  function myFunction() {
    // Declare variables
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    table = document.getElementById("myTable");
    tr = table.getElementsByTagName("tr");

    // Loop through all table rows, and hide those who don't match the search query
    for (i = 0; i < tr.length; i++) {
      td = tr[i].getElementsByTagName("td")[0];
      if (td) {
        txtValue = td.textContent || td.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          tr[i].style.display = "";
        } else {
          tr[i].style.display = "none";
        }
      }
    }
  }
  function updateTable() {
    // Call the getAll() service to fetch the latest data
    // and update the table with the new data
    // Replace the following code with your own implementation
    getAll().then(data => {
      const table = document.getElementById('myTable');
      // Clear the table body
      table.innerHTML = '';
      // Add new rows with the updated data

    });
  }

  // Call updateTable() every 1 seconds
  setInterval(updateTable, 1000);
</script>
<nav class="navbar navbar-expand bg-secondary navbar-dark sticky-top px-4 py-0">
  <a href="index.html" class="navbar-brand d-flex d-lg-none me-4">
    <h2 class="text-primary mb-0"><i class="fa fa-user-edit"></i></h2>
  </a>
  <a href="#" class="sidebar-toggler flex-shrink-0">
    <i class="fa fa-bars"></i>
  </a>
  <form class="d-none d-md-flex ms-4">
    <input class="form-control bg-dark border-0" onkeyup="myFunction()" id="myInput" type="search" placeholder="Search">
  </form>
  <div class="navbar-nav align-items-center ms-auto">
    <div class="nav-item dropdown">
      <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
        <i class="fa fa-envelope me-lg-2"></i>
        <span class="d-none d-lg-inline-flex">Message</span>
      </a>
      <div class="dropdown-menu dropdown-menu-end bg-secondary border-0 rounded-0 rounded-bottom m-0">
        <a href="#" class="dropdown-item">
          <div class="d-flex align-items-center">
            <img class="rounded-circle" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
            <div class="ms-2">
              <h6 class="fw-normal mb-0">Jhon send you a message</h6>
              <small>15 minutes ago</small>
            </div>
          </div>
        </a>
        <hr class="dropdown-divider">
        <a href="#" class="dropdown-item">
          <div class="d-flex align-items-center">
            <img class="rounded-circle" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
            <div class="ms-2">
              <h6 class="fw-normal mb-0">Jhon send you a message</h6>
              <small>15 minutes ago</small>
            </div>
          </div>
        </a>
        <hr class="dropdown-divider">
        <a href="#" class="dropdown-item">
          <div class="d-flex align-items-center">
            <img class="rounded-circle" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
            <div class="ms-2">
              <h6 class="fw-normal mb-0">Jhon send you a message</h6>
              <small>15 minutes ago</small>
            </div>
          </div>
        </a>
        <hr class="dropdown-divider">
        <a href="#" class="dropdown-item text-center">See all message</a>
      </div>
    </div>
    <div class="nav-item dropdown">
      <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
        <i class="fa fa-bell me-lg-2"></i>
        <span class="d-none d-lg-inline-flex">Notificatin</span>
      </a>
      <div class="dropdown-menu dropdown-menu-end bg-secondary border-0 rounded-0 rounded-bottom m-0">
        <a href="#" class="dropdown-item">
          <h6 class="fw-normal mb-0">Profile updated</h6>
          <small>15 minutes ago</small>
        </a>
        <hr class="dropdown-divider">
        <a href="#" class="dropdown-item">
          <h6 class="fw-normal mb-0">New user added</h6>
          <small>15 minutes ago</small>
        </a>
        <hr class="dropdown-divider">
        <a href="#" class="dropdown-item">
          <h6 class="fw-normal mb-0">Password changed</h6>
          <small>15 minutes ago</small>
        </a>
        <hr class="dropdown-divider">
        <a href="#" class="dropdown-item text-center">See all notifications</a>
      </div>
    </div>
    <div class="nav-item dropdown">
      <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
        <img class="rounded-circle me-lg-2" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
        <span class="d-none d-lg-inline-flex">John Doe</span>
      </a>
      <div class="dropdown-menu dropdown-menu-end bg-secondary border-0 rounded-0 rounded-bottom m-0">
        <a href="#" class="dropdown-item">My Profile</a>
        <a href="#" class="dropdown-item">Settings</a>
        <a href="aaaa" class="dropdown-item">Log Out</a>
      </div>
    </div>
  </div>
</nav>
<!-- Navbar End -->

<!-- Sale & Revenue Start -->
<div class="container-fluid pt-4 px-4">
  <div class="row g-4">
    <div class="col-sm-6 col-xl-3">
      <div class="bg-secondary rounded d-flex align-items-center justify-content-between p-4">
        <i class="fa fa-chart-line fa-3x text-primary"></i>
        <div class="ms-3">
          <p class="mb-2">Today Sale</p>
          <h6 class="mb-0">$1234</h6>
        </div>
      </div>
    </div>
    <div class="col-sm-6 col-xl-3">
      <div class="bg-secondary rounded d-flex align-items-center justify-content-between p-4">
        <i class="fa fa-chart-bar fa-3x text-primary"></i>
        <div class="ms-3">
          <p class="mb-2">Total Sale</p>
          <h6 class="mb-0">$1234</h6>
        </div>
      </div>
    </div>
    <div class="col-sm-6 col-xl-3">
      <div class="bg-secondary rounded d-flex align-items-center justify-content-between p-4">
        <i class="fa fa-chart-area fa-3x text-primary"></i>
        <div class="ms-3">
          <p class="mb-2">Today Revenue</p>
          <h6 class="mb-0">$1234</h6>
        </div>
      </div>
    </div>
    <div class="col-sm-6 col-xl-3">
      <div class="bg-secondary rounded d-flex align-items-center justify-content-between p-4">
        <i class="fa fa-chart-pie fa-3x text-primary"></i>
        <div class="ms-3">
          <p class="mb-2">Total Revenue</p>
          <h6 class="mb-0">$1234</h6>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Sale & Revenue End -->


<!-- Sales Chart Start -->

<!-- Sales Chart End -->


<!-- Recent Sales Start -->
<div class="container-fluid pt-4 px-4">
  <div class="bg-secondary text-center rounded p-4">
    <div class="d-flex align-items-center justify-content-between mb-4">
      <h6 class="mb-0">User list</h6>
    </div>
    <div class="col">
      <div class="row">
        <div class="col">
          <button class="btn btn-primary" (click)="allUsers()">Load All Users</button>
        </div>
      </div>
    </div>
  </div>

  <table class="table" id="myTable">
    <thead>
      <tr>
        <th>ID</th>
        <th>Last Name</th>
        <th>First Name</th>
        <th>Email</th>
        <th>Roles</th>
        <th>Activated</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of userList">
        <td scope="row">{{user.idUser}}</td>
        <td>{{user.lastname}}</td>
        <td>{{user.firstname}}</td>
        <td>{{user.email}}</td>
        <td>{{user.role}}</td>
        <td >
          <span class="ms-2">
            <i class="bi bi-{{ user.enabled ? 'check-circle text-success' : 'x-circle text-danger' }}"></i>
          </span>
          
        </td>
        



        <td>
          <button class="btn btn-outline-danger m-2" (click)="deleteProjet(user.idUser)">
            delete
          </button>
        </td>

        <td><button class="btn btn-outline-warning m-2" (click)="enable(user.idUser)">Change activation</button></td>


      </tr>
    </tbody>
  </table>
</div>
<!-- Recent Sales End -->


